<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link href="https://fonts.googleapis.com/css?family=Questrial&display=swap" rel="stylesheet" />
  <!-- <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css"> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
  <link rel="stylesheet" href="./static/styles/app.css" />

  <link rel="stylesheet" href="./static/styles/workshop.css">
  <link rel="stylesheet" media="screen and (max-width: 900px)" href="./static/styles/workshopmobile.css">

  <title>TAMUhack</title>
</head>

<body>
  <div class="nav-container container">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="top-nav-bar">
      <!-- <a class="navbar-brand" href="#">Navbar w/ text</a> -->
      <a class="navbar-brand" href="./">
        <img src="./static/assets/th_logo.svg" class="th-logo" alt="" />
        <img src="./static/assets/tamuhack.svg" class="th-text-logo" />
      </a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
        aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation" id="hamburger">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto"></ul>
        <ul class="navbar-nav main-nav-ui">
          <li class="nav-item">
            <a class="nav-link" href="./#what_we_do">what we do</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./#our_community">our community</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./#past_iterations">past iterations</a>
          </li>
          <li class="nav-item" style="padding-right: 0px;">
            <a class="nav-link" href="./#our_team">our team</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>

  <!-- Overall div -->
  <div class="overallcontainer" style="">

    <!-- Left side div -->
    <div class="titlediv">
      <h1 class="ws-page-title">WORKSHOPS</h1>
      <p class="ws-page-desc">
        Subscribe below to be the first to know about new workshops!</p>
      <a href="https://forms.gle/dHHMt3PNQ6jVpWso8"
          class="btn btn-outline-secondary w-50 signup-button"
      >
          Subscribe
      </a>
      {{!-- <form class="form ws-page-form" action="/" id="email-form">
        <div class="input-group mb-3" id="before">
          <input name="email" type="text" class="form-control" placeholder="Enter your email here..."
            aria-label="Recipient's username" aria-describedby="basic-addon2" id="email" />
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" style="background-color: #FF7C93; border-color: #FF7C93;
              color: white; font-weight: bolder;" type="submit">
              Sign Up
            </button>
          </div>
        </div>
        <div class="alert alert-danger" role="alert" id="u_failed" style="display: none;">
          Email was not accepted. Try again!
        </div>
        <div class="alert alert-success" role="alert" id="after" style="display: none;">
          All good! Expect to hear back from us soon!
        </div>
      </form> --}}
      <div>
        <img class="ws-graphic" src="./static/assets/workshop-people.svg">
      </div>
    </div>

    {{!-- Right side --}}
    <div class="workshopdiv col-7 overflow-auto" style="">
      <div id="empty-state">
        <img src="./static/assets/ws-emptystates.svg">
        <div class="empty-state-title">NO UPCOMING WORKSHOPS</div>
        <p class="empty-state-p">Please check back in a bit!</p>
      </div>
      {{#each events}}
      {{!-- Individual card --}}
      <div class="card" style="">
        <div class="toprow" style="">
          {{!-- Left Date --}}
          <div class="largedate" style="">
            <p style="font-size: 36px; padding-bottom: 0px; margin-bottom: 5px;">{{start.day}}</p>
            <p>{{start.month}}</p>
          </div>
          {{!-- Meta Information --}}
          <div class="smallinfo" style="">
            <div class="workshoptitle" style="">
              {{name}}
            </div>
            <div class="location" style="">
              {{start.time}} â€“ {{end.time}}
              <br />
              {{venue}}
            </div>
          </div>
        </div>
        <div class="bottomrow" style="">
          <div class="rsvp" style="">
            <a href="{{url}}"><img src="./static/assets/rsvp.svg" width="30" height="30" alt="" />
              <div style="margin-top: 16px; color: #3782F2;">
                RSVP
              </div>
            </a>
          </div>
          <div class="workshopdesc" style="">
            {{summary}}...
          </div>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <script>
    $("#after").hide();
    $("#u_failed").hide();
    $(document).ready(function () {
      // checks that there are events to be shown, then hide empty state
      var checkEvents = setInterval(function() {
        if ($(".card").length > 0) {
          clearInterval(checkEvents);
          $("#empty-state").hide();
        }
      }, 100);
      // Listen to submit event on the <form> itself!
      $("#email-form").submit(function (e) {
        e.preventDefault();
        var email = $("#email").val();
        if (
          /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
            email
          )
        ) {
          fetch("/email", {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({ email: email })
          });
          $("#u_failed").hide();
          $("#before").remove();
          $("#after").show();
        } else {
          console.log("invalid email");
          $("#u_failed").show();
        }
      });
    });
  </script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</body>

</html>